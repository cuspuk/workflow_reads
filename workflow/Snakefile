from snakemake.utils import min_version

min_version("7.25.0")


localrules:
    all,
    curl__download_kraken_db,


include: "rules/common.smk"


for step, tool in [item for item in config["reads"].items() if not item[0].startswith("_")]:

    include: f"rules/{step}/{tool}.smk"


if config.get("_generate_fastqc_for"):

    include: "rules/fastqc.smk"


wildcard_constraints:
    **get_constraints(),


rule all:
    input:
        **get_outputs(),
